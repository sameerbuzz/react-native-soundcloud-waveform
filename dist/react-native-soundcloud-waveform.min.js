!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("react-native"),require("prop-types"),require("d3-scale"),require("d3-array"),require("lodash")):"function"==typeof define&&define.amd?define(["react","react-native","prop-types","d3-scale","d3-array","lodash"],t):(e=e||self).soundcloud=t(e.React,e.reactNative,e.PropTypes,e.d3Scale,e.d3Array,e._)}(this,function(e,t,r,i,n,a){"use strict";var c="default"in e?e.default:e;function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r,i,n,a,c,s,l,v,o){return t/e.length<r?n?c:a:t/e.length<i?n?l:s:n?o:v}r=r&&r.hasOwnProperty("default")?r.default:r,a=a&&a.hasOwnProperty("default")?a.default:a;var v=t.Dimensions.get("window").width;function o(e){var r=e.waveform,s=e.height,v=e.width,o=e.setTime,u=e.percentPlayed,d=e.percentPlayable,p=e.inverse,h=e.active,y=e.activeInverse,f=e.activePlayable,b=e.activePlayableInverse,m=e.inactive,g=e.inactiveInverse,P=i.scaleLinear().domain([0,r.height]).range([0,s]),w=a.chunk(r.samples,r.width/((v-60)/3));return c.createElement(t.View,{style:[{height:s,width:v,justifyContent:"center",flexDirection:"row"},p&&{transform:[{rotateX:"180deg"},{rotateY:"0deg"}]}]},w.map(function(e,r){return c.createElement(t.TouchableOpacity,{key:r,onPress:function(){o(r)}},c.createElement(t.View,{style:{backgroundColor:l(w,r,u,d,p,h,y,f,b,m,g),width:2,marginRight:1,height:P(n.mean(e))}}))}))}o.propTypes={waveform:r.object.isRequired,height:r.number.isRequired,width:r.number.isRequired,setTime:r.func.isRequired,percentPlayed:r.number.isRequired,percentPlayable:r.number.isRequired,inverse:r.bool.isRequired,active:r.string.isRequired,activeInverse:r.string.isRequired,activePlayable:r.string.isRequired,activePlayableInverse:r.string.isRequired,inactive:r.string.isRequired,inactiveInverse:r.string.isRequired};var u=function(e){var r,i;function n(){for(var t,r,i,n,a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return t=e.call.apply(e,[this].concat(c))||this,r=s(s(t)),n={waveform:null},(i="state")in r?Object.defineProperty(r,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[i]=n,t}i=e,(r=n).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var a=n.prototype;return a.componentDidMount=function(){var e=this,t=this.props.waveformUrl;fetch(t.replace("png","json")).then(function(e){return e.json()}).then(function(t){e.setState({waveform:t})})},a.render=function(){var e=this.props,r=e.height,i=e.width,n=e.percentPlayed,a=e.percentPlayable,s=e.setTime,l=e.active,v=e.activeInverse,u=e.activePlayable,d=e.activePlayableInverse,p=e.inactive,h=e.inactiveInverse,y=this.state.waveform;return y?c.createElement(t.View,{style:{flex:1,justifyContent:"center"}},c.createElement(o,{waveform:y,height:r,width:i,setTime:s,percentPlayed:n,percentPlayable:a,active:l,activeInverse:v,activePlayable:u,activePlayableInverse:d,inactive:p,inactiveInverse:h,inverse:!0}),c.createElement(o,{waveform:y,height:r,width:i,setTime:s,percentPlayed:n,percentPlayable:a,active:l,activeInverse:v,activePlayable:u,activePlayableInverse:d,inactive:p,inactiveInverse:h,inverse:!1})):null},n}(e.Component);return u.defaultProps={percentPlayable:0,height:50,width:v,active:"#FF1844",activeInverse:"#4F1224",activePlayable:"#1b1b26",activePlayableInverse:"#131116",inactive:"#424056",inactiveInverse:"#1C1A27"},u.propTypes={waveformUrl:r.string.isRequired,setTime:r.func.isRequired,percentPlayed:r.number.isRequired,percentPlayable:r.number,height:r.number,width:r.number,active:r.string,activeInverse:r.string,activePlayable:r.string,activePlayableInverse:r.string,inactive:r.string,inactiveInverse:r.string},u});
//# sourceMappingURL=react-native-soundcloud-waveform.min.js.map
